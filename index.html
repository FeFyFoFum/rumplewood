<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LOLA</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Rubik+Mono+One&family=Josefin+Sans:wght@400;600&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">

  <!-- (Optional) LightGallery CSS — harmless to keep even though we use a custom overlay -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.8.2/css/lightgallery-bundle.min.css">

  <style>
  :root{
    --u: clamp(6px, 1.1vw, 14px);

    /* Colors */
    --pink:#fbd3de;
    --cream:#fffcf3;
    --black:#000;
    --navy:#0a3161;
    --star-red:#b50e12;

    /* Measurements */
    --top-border: calc(var(--u) * 3);
    --side-rail:  calc(var(--u) * 6);
    --band-pad-y: calc(var(--u) * 1.5);

    /* Twin rule sizing */
    --rule-size: 4px;
    --rule-thickness: var(--rule-size);
    --rule-gap:       var(--rule-size);

    --logo-size:      calc(var(--u) * 3.0);
    --stars-h:        calc(var(--u) * 1.8);
    --cluster-gap:    calc(var(--u) * 0.6);
    --wrap-width:     calc(var(--u) * 36);
    --wrap-margin-top:calc(var(--u) * 3.7);

    --ring:#e6e6e6;
  }

  html, body { height:100%; margin:0; font-family:'Inter',sans-serif; }
  body{
    background:var(--pink);
    /* Bottoms out the page: black stripe at bottom equal to rail thickness (desktop) */
    background: linear-gradient(
      to bottom,
      var(--pink) calc(100% - var(--side-rail)),
      var(--black) 0
    );
    color:#111;
    border-top: var(--top-border) solid var(--black);
    min-height:100vh;
    display:flex;                 /* sticky-footer layout */
    flex-direction:column;
    min-height:100dvh;            /* mobile-safe viewport height */
    background: var(--pink);       /* ensure no gradient stripe remains */
    box-sizing:border-box;
    display:flex;
    flex-direction:column;
    min-height:100dvh; /* mobile-safe viewport height */
    padding-left: var(--side-rail);
    padding-right: var(--side-rail);    
    
    overflow-x:hidden; /* keep vertical scrolling available */


    
  }

  /* Fixed side rails */
  .rail{
    position:fixed; top:0; bottom:0;
    width: var(--side-rail); background: var(--black);
    z-index: 1000; pointer-events:none;
  }
  .rail-left{ left:0; }
  .rail-right{ right:0; }

  .wrap{
    width:min(var(--wrap-width), 92vw);
    margin: var(--wrap-margin-top) auto 32px;
    text-align:center;
    padding: 0 calc(var(--u) * 1);
    box-sizing:border-box;
  }
  .stars{
    display:block; margin:0 auto var(--cluster-gap);
    height: var(--stars-h); width:auto;
  }

  /* Cream band with twin rules */
  .band{
    position:relative; background:var(--cream);
    padding: var(--band-pad-y) calc(var(--u) * 1);
    display:inline-block; box-sizing:border-box;
  }
  .band::before, .band::after{
    content:""; position:absolute; left:0; right:0;
    height: calc((var(--rule-thickness) * 2) + var(--rule-gap));
    pointer-events:none;
  }
  .band::before{
    top:0;
    background-image:
      linear-gradient(var(--black), var(--black)),
      linear-gradient(var(--black), var(--black));
    background-repeat: no-repeat;
    background-size:
      100% var(--rule-thickness),
      100% var(--rule-thickness);
    background-position:
      0 0,
      0 calc(var(--rule-thickness) + var(--rule-gap));
  }
  .band::after{
    bottom:0;
    background-image:
      linear-gradient(var(--navy), var(--navy)),
      linear-gradient(var(--navy), var(--navy));
    background-repeat: no-repeat;
    background-size:
      100% var(--rule-thickness),
      100% var(--rule-thickness);
    background-position:
      0 0,
      0 calc(var(--rule-thickness) + var(--rule-gap));
  }

  .logo{
    font-family:'Rubik Mono One',sans-serif;
    font-size: var(--logo-size);
    margin:0; letter-spacing:.5px; white-space:nowrap;
  }
  .subhead{
    font-family:'Josefin Sans',sans-serif;
    font-size: calc(var(--u) * 1.625);
    margin: calc(var(--u) * 0.4) 0 0;
    font-weight: 400; color: var(--navy);
    white-space:nowrap;
  }
  .subhead .caps{ color:var(--star-red); font-weight:600; }

  /* Updates area */
  .updates-wrap{
    width:min(var(--wrap-width), 92vw);
    margin: 16px auto 80px; text-align:left;
  }
  /* Desktop: ensure a comfortable pink gap before the terminal bar */
  @media (min-width: 521px){
    .updates-wrap{ margin-bottom: calc(var(--u) * 8); }
  }
  .update-card{
    background: var(--cream);
    border: 2px solid var(--black);
    border-radius:14px;
    padding:16px;
    box-shadow:0 6px 18px rgba(0,0,0,.08);
    margin-bottom: 32px;
  }

   /* Title lines */
  .u-title{ text-align:center; margin:0 0 14px; }
  .u-title-line1{
    font-family:'Montserrat',sans-serif; font-weight:800;
    text-transform:uppercase; font-size:20px;
    letter-spacing:.2px; color:var(--navy);
  }
  .u-title-line2{
    font-family:'Josefin Sans',sans-serif; font-size:16px;
    color:var(--star-red); margin-top:6px;
  }

 /* --- Uniform subtitle rhythm; ~1× line gap before media --- */
  :root { --lead-lh: 1.21; --line: calc(var(--lead-lh) * 1em); }

  /* Normalize the two kinds of “subtitle lines” and kill generator margins */
  .update-card > .u-sub,
  .update-card > .u-subtext{
    margin: 0 !important;
    padding: 0 !important;
    color: var(--black);
    font-size: 11px;
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    line-height: var(--lead-lh);
    min-block-size: var(--line);               /* equal line box height */
  }

  /* Bulleted lines: remove native list markers, override inline flex -> grid */
  .update-card > .u-sub{ list-style: none !important; }
  .update-card > .u-sub li{
    margin: 0 !important;
    padding: 0 !important;
    display: grid !important;                  /* beats inline display:flex */
    grid-template-columns: 0.9em 1fr;
    column-gap: 0.22em;
     /* top-align the bullet for wrapped lines (no other spacing changed) */
    align-items: start !important;
    line-height: var(--lead-lh) !important;
    min-block-size: var(--line);
  }
  .update-card > .u-sub .u-bullet{
    display: block;
    line-height: var(--lead-lh) !important;
    text-align: center;
  }

  /* Plain-line variant still preserves manual newlines from generator */
  .update-card > .u-subtext{ white-space: pre-wrap !important; }

  /* Bring media ~60% closer vs. last attempt: exactly 1 line-height */
  .update-card > a.u-shot{ margin-top: var(--line) !important; }
    
    /* Terminal footer band matching side rails (in document flow) */
  .page-end{
    margin-top: auto;                      /* push to bottom; cannot overlap */
    padding-top: calc(var(--u) * 6);       /* guaranteed pink gap above bar */
    width: 100%;
    background: transparent;               /* let the page pink show above */
  }
  .page-end::after{
    content: "";
    display: block;
    height: var(--side-rail);              /* desktop bar thickness */
    width: 100%;
    background: var(--black);              /* the actual black bar */
  }

  /* Media frames */
  a.u-shot{
    position:relative; display:block;
    border:2px solid var(--black);
    border-radius:10px;
    overflow:hidden;
    background:#f7f7f7; cursor:zoom-in; text-decoration:none;
  }
  .u-thumb{ width:100%; height:auto; display:block; object-fit:contain; }
  video.u-thumb { display:block; width:100%; height:auto; }
  .u-shot::after{
    content:""; position:absolute; right:10px; bottom:10px;
    width:26px; height:26px; border:2px solid var(--black);
    border-radius:6px;
    background:radial-gradient(circle at center, transparent 8px, var(--black) 9px);
    opacity:.28; pointer-events:none;
  }
  @media (hover:hover){ .u-shot:hover::after{ opacity:.45; } }

  /* MOBILE — single, clean block */
  @media (max-width: 520px) {
    :root {
      --wrap-width: 92vw;                 /* wide post column */
      --side-rail: max(12px, 3.4vw);      /* slim but visible rails */
      --rule-size: 3px;                   /* lighter twin rules */
    }
    /* Tiny symmetric pink gutter inside rails */
    body {
      padding-left:  calc(var(--side-rail) + 6px);
      padding-right: calc(var(--side-rail) + 6px);
      background: var(--pink); /* guarantee: no mobile gradient stripe */
    }
    .wrap, .updates-wrap {
      width: min(var(--wrap-width), 100%);
      margin-left:auto; margin-right:auto;
    }
    .band {
      padding-top:    calc(var(--band-pad-y) * 1.45);
      padding-bottom: calc(var(--band-pad-y) * 1.45);
      padding-left:   calc(var(--u) * 0.9);
      padding-right:  calc(var(--u) * 0.9);
    }
    .logo {
      font-size: clamp(22px, 8.2vw, var(--logo-size));
      line-height: 1.06;
      margin:0;
    }
      /* Mobile: full-bleed, thicker bar, still bottoms out with no pink below */
    .page-end{
      position: relative;
      width: 100vw;                     /* ignore body side padding */
      left: 50%; right: 50%;
      margin-left: -50vw;
      margin-right: -50vw;
      padding-top: calc(var(--u) * 6);  /* keep the same pink gap above bar */
      margin-top: auto;                 /* participates in sticky layout */
      background: transparent;
    }
    .page-end::after{
      height: 22px;                     /* thicker mobile bar */
    }

  }

  /* --------- Lightweight Overlay Gallery (CSS in stylesheet, not injected) --------- */
  #lglb{
    position:fixed; inset:0;
    display:none;
    align-items:center; justify-content:center;
    background:#000; z-index:2000;
  }
  #lglb.show{ display:flex; }
  #lglb .lb-frame{
    position:relative;
    max-width:96vw; max-height:90vh;
    display:flex; align-items:center; justify-content:center;
  }
  #lglb img, #lglb video{
    max-width:96vw; max-height:90vh;
    border:0; background:#000; display:block;
  }
  #lglb .lb-cap{
    position:absolute; left:18px; bottom:16px;
    color:#fff; font:14px/1.4 'Inter',sans-serif; opacity:.9;
  }
  #lglb .lb-count{
    position:absolute; right:18px; bottom:16px;
    color:#fff; font:14px/1.4 'Inter',sans-serif; opacity:.8;
  }
  #lglb .lb-close, #lglb .lb-prev, #lglb .lb-next{
    position:absolute; border:0; background:transparent; color:#fff;
    font-size:28px; line-height:1; cursor:pointer; padding:8px 12px; opacity:.9; z-index:1;
  }
  #lglb .lb-close{ top:12px; right:12px; }
  #lglb .lb-prev{  top:50%; left:12px;  transform:translateY(-50%); }
  #lglb .lb-next{  top:50%; right:12px; transform:translateY(-50%); }
  @media (hover:hover){
    #lglb .lb-close,#lglb .lb-prev,#lglb .lb-next{opacity:.8}
    #lglb .lb-close:hover,#lglb .lb-prev:hover,#lglb .lb-next:hover{opacity:1}
  }
  </style>
</head>
<body>
  <!-- Fixed side rails -->
  <div class="rail rail-left"></div>
  <div class="rail rail-right"></div>

  <!-- Header -->
  <div class="wrap">
    <img src="loladomeLOGOstars.png" alt="" class="stars" />
    <div class="band">
      <h1 class="logo">LOLA</h1>
      <div class="subhead">
        <span class="caps">L</span>eague's <span class="caps">O</span>fficial <span class="caps">L</span>eague <span class="caps">A</span>cronym
      </div>
    </div>
  </div>

  <!-- Posts -->
  <main class="updates-wrap" id="page-gallery">
  
    
    
    
    
    
    
    
    
    
    
    
   
    
    
    
    <!-- FEFYFOFUM -->

<article class="update-card" data-id="00004">
  <div class="u-title">
    <div class="u-title-line1">PICKS &amp; FIRST STANDINGS RELEASED TOMORROW</div>
    <div class="u-title-line2">18 August 2025</div>
  </div>
<ul class="u-sub" style="list-style:none;margin:0.4em 0 0.6em 0;padding:0">
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>we&#39;re keeping it simple this season:</span></li>
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>standings will be updated on this website <del>hourly</del> <em>every other Tuesday</em></span></li>
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>a sneak preview of one member&#39;s picks are shown below, I blurred their name to protect their identity</span></li>
</ul>
<a class="u-shot lg-item" href="assets/00004TheHolder.png" data-sub-html="PICKS &amp; FIRST STANDINGS RELEASED TOMORROW — 18 August 2025 (Item 1)">
  <img class="u-thumb" src="assets/00004TheHolder.png" alt="PICKS &amp; FIRST STANDINGS RELEASED TOMORROW image 1">
</a>
</article>
    
<article class="update-card" data-id="00004">
  <div class="u-title">
    <div class="u-title-line1">PICKS &amp; FIRST STANDINGS RELEASED TOMORROW</div>
    <div class="u-title-line2">18 August 2025</div>
  </div>
<ul class="u-sub" style="list-style:none;margin:0.4em 0 0.6em 0;padding:0">
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>we&#39;re keeping it simple this season:</span></li>
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>standings will be updated on this website <strong>every other Tuesday</strong></span></li>
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>a sneak preview of one member&#39;s picks are shown below, I have blurred their name to protect their identity</span></li>
</ul>
<a class="u-shot lg-item" href="assets/00004TheHolder.png" data-sub-html="PICKS &amp; FIRST STANDINGS RELEASED TOMORROW — 18 August 2025 (Item 1)">
  <img class="u-thumb" src="assets/00004TheHolder.png" alt="PICKS &amp; FIRST STANDINGS RELEASED TOMORROW image 1">
</a>
</article>
    
  <article class="update-card" data-id="00003">
  <div class="u-title">
    <div class="u-title-line1">THE LOLA IS DEAD, LONG LIVE THE LOLA</div>
    <div class="u-title-line2">18 August 2025</div>
  </div>
<ul class="u-sub" style="list-style:none;margin:0.4em 0 0.6em 0;padding:0">
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>We pause to remember our roots</span></li>
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>Below are the results of the first season, a cursed season</span></li>
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>Congratulations to William Vobejda, winner of the inaugural season of LOLA!! Jim finished second.</span></li>
  <li style="display:flex;gap:0.22em;align-items:baseline"><span class="u-bullet" aria-hidden="true">•</span><span>The graph shows how our season progressed. Check out Matchday 35, it looks like something dramatic must have happened. What was it? No one remembers. If you remember, feel free to tell your story below in the Comments section</span></li>
</ul>
<a class="u-shot lg-item" href="assets/00003LOLATABLE2024.png" data-sub-html="THE LOLA IS DEAD, LONG LIVE THE LOLA — 18 August 2025 (Item 1)">
  <img class="u-thumb" src="assets/00003LOLATABLE2024.png" alt="THE LOLA IS DEAD, LONG LIVE THE LOLA image 1">
</a>

<a class="u-shot lg-item" style="margin-top:12px;" href="assets/00003bLOLAgraph2024.jpg" data-sub-html="THE LOLA IS DEAD, LONG LIVE THE LOLA — 18 August 2025 (Item 2)">
  <img class="u-thumb" src="assets/00003bLOLAgraph2024.jpg" alt="THE LOLA IS DEAD, LONG LIVE THE LOLA image 2">
</a>
</article>
    
    <article class="update-card" data-id="00002">
  <div class="u-title">
    <div class="u-title-line1">WHY RUMPLEWOOD?</div>
    <div class="u-title-line2">18 August 2025</div>
  </div>
<div class="u-subtext" style="white-space:pre-wrap !important">idk, I guess I&#39;d never made a website and it seemed sort of fun. I wanted to write code, I wanted to say the word code

Step 01: I started by visiting the perfect web address, lola.com, just to see what was there

Step 02: lola.com turned out to be a crappy dating website, which by a crazy coincidence was going out of business that week and who were putting their domain name lola.com up FOR SALE THE VERY NEXT DAY. This felt like an obvious sign from god that my destiny was to own lola.com

Step 03: I quickly wrote the owners of lola.com a short email asking what the price was. I played it cool and didn&#39;t offer a specific price, but I hinted that I was prepared to go up to like $350

Step 04: while waiting for lola.com to respond, I started looking into other website names as a backup

Step 05: I saw that the website name lolaworld.com was also for sale, and that if I just clicked on a button I could then see the price, so I clicked it

Step 06: the price was $8749.99

Step 07: I decided to do more research. About 90 seconds later I had done enough to know that the price for lola.com was going to be well over one hundred thousand dollars. This was far more than I was willing to pay. And I didn&#39;t think you guys would want to split it either, so I didn&#39;t even ask.

Step 08: A hundred thousand dollars?? I reflected on the world that we&#39;ve made. A shining world where we live our short, charmed lives. An enchanted world. A fallen world. An obscene world!!!

Step 09: I rallied and bought my own domain name! I bought LOLA DOME dot com, for nine dollars. I just thought it sounded good. It my mind it was like, hey everybody, check it out, welcome to the Lola Dome!

Step 10: I stayed up all night learning how to make a website. It was so frustrating! You have to use all this fucking code!

Step 11: But I finished. And just when I was done, I realized---very suddenly---that loladome wouldn&#39;t work as a name. This happened when my eyes and my brain finally joined forces and figured out that loladome smooshed together into one word looks like &quot;LOLA, DO ME!&quot; and that I now owned LOLA DO ME dot com

Step 12: I rallied again! I quickly invested in a different new name, I went with my lucky number: I bought lola17.com, for nine dollars

Step 13: Later that night I was out for a beer and I told a friend the good news: I told her I had built a new website, and it was called lola17.com. And she replied &quot;lola17? that&#39;s awesome!!! wait, is it a porn site? oh gross!&quot;

Step 14: I finally hear back from the original lola.com. They have formally rejected my vague, initial offer of $350

Step 15: I abandon all ideas of having a domain name with the word LOLA in it

Step 16: I think back to a simpler time, like ten years ago, when my buddy asked me to name his house that he had built in the green gold hills of California. I think he and his wife wanted it to have a name like a castle in a Jane Austen book. I thought about it, and suggested a name. Their family was thrilled, they said to me Thank you for the suggestion, but we are going to go in a different direction

Step 17: fair enough and finders keepers: welcome to rumplewood</div>
<a class="u-shot lg-item" href="assets/00002LOLAdotcom.png" data-sub-html="WHY RUMPLEWOOD? — 18 August 2025 (Item 1)">
  <img class="u-thumb" src="assets/00002LOLAdotcom.png" alt="WHY RUMPLEWOOD? image 1">
</a>
</article>
    
    <article class="update-card" data-id="00001">
  <div class="u-title">
    <div class="u-title-line1">HELLOLA WORLD!</div>
    <div class="u-title-line2">17 August 2025</div>
  </div>
<div class="u-subtext" style="white-space:pre-wrap !important">new season
new LOLA
same pink</div>
<a class="u-shot lg-item"
   href="assets/00001HELLOLAworld.mp4"
   data-src="assets/00001HELLOLAworld.mp4"
   data-video='{&quot;source&quot;:[{&quot;src&quot;:&quot;assets/00001HELLOLAworld.mp4&quot;,&quot;type&quot;:&quot;video/mp4&quot;}],&quot;attributes&quot;:{&quot;preload&quot;:&quot;metadata&quot;,&quot;playsinline&quot;:true,&quot;muted&quot;:true,&quot;autoplay&quot;:true,&quot;loop&quot;:true}}'
   data-sub-html="HELLOLA WORLD! — 17 August 2025 (Item 1)">
  <video class="u-thumb" autoplay muted loop playsinline>
    <source src="assets/00001HELLOLAworld.mp4" type="video/mp4">
  </video>
</a>
</article>

    
    <!-- END FEFYFOFUM -->
  </main>
    <footer class="page-end"></footer>


  <!-- Lightweight LOLA overlay gallery -->
  <div id="lglb" aria-hidden="true">
    <button class="lb-close" aria-label="Close">×</button>
    <button class="lb-prev"  aria-label="Previous">‹</button>
    <div class="lb-frame"></div>
    <button class="lb-next"  aria-label="Next">›</button>
    <div class="lb-cap"></div>
    <div class="lb-count"></div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const root = document.getElementById('page-gallery');
    const lb   = document.getElementById('lglb');
    if (!root || !lb) return;

    // Keep inline thumbnails looping
    root.querySelectorAll('video.u-thumb').forEach(v => {
      v.setAttribute('autoplay',''); v.setAttribute('muted','');
      v.setAttribute('loop','');     v.setAttribute('playsinline','');
      v.play().catch(()=>{});
    });

    // Collect anchors and neutralize navigation
    function getAnchors(){
      const as = Array.from(root.querySelectorAll('a.u-shot'));
      as.forEach(a => {
        const href = a.getAttribute('href') || '';
        if (!a.hasAttribute('data-src')) a.setAttribute('data-src', href);
        a.setAttribute('href', '#');     // never navigate away
      });
      return as;
    }
    function toItems(as){
      return as.map(a => {
        const src     = a.getAttribute('data-src') || '';
        const poster  = a.getAttribute('data-poster') || '';
        const caption = a.getAttribute('data-sub-html') || '';
        const isVideo = /\.(mp4|webm)(?:$|[?#])/i.test(src.toLowerCase());
        return { isVideo, src, poster, caption };
      });
    }

    const frame = lb.querySelector('.lb-frame');
    const cap   = lb.querySelector('.lb-cap');
    const btnX  = lb.querySelector('.lb-close');
    const btnP  = lb.querySelector('.lb-prev');
    const btnN  = lb.querySelector('.lb-next');
    const count = lb.querySelector('.lb-count');

    let idx = 0, anchors = getAnchors(), items = toItems(anchors);
    let savedScrollTop = 0;

    // Scroll lock helpers (only while overlay is open)
    const lockScroll = () => {
      savedScrollTop = window.scrollY || document.documentElement.scrollTop || 0;
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
      document.body.style.position = 'fixed';
      document.body.style.top = `-${savedScrollTop}px`;
      document.body.style.width = '100%';
    };
    const unlockScroll = () => {
      document.documentElement.style.overflow = '';
      document.body.style.overflow = '';
      document.body.style.position = '';
      document.body.style.top = '';
      document.body.style.width = '';
      window.scrollTo(0, savedScrollTop);
    };

    function render(i){
      anchors = getAnchors();
      items   = toItems(anchors);
      if (items.length === 0) return;

      idx = (i + items.length) % items.length;
      const it = items[idx];
      frame.innerHTML = '';

      if (it.isVideo) {
        const vid = document.createElement('video');
        vid.setAttribute('playsinline','');
        vid.setAttribute('autoplay','');
        vid.setAttribute('muted','');
        vid.setAttribute('loop','');
        vid.setAttribute('controls','');
        if (it.poster) vid.setAttribute('poster', it.poster);
        const type = /\.webm(?:$|[?#])/i.test(it.src) ? 'video/webm' : 'video/mp4';
        const srcEl = document.createElement('source');
        srcEl.src = it.src;
        srcEl.type = type;
        vid.appendChild(srcEl);
        frame.appendChild(vid);
        setTimeout(() => { vid.play().catch(()=>{}); }, 0);
      } else {
        const img = new Image();
        img.decoding = 'async';
        img.src = it.src;
        img.alt = 'Image';
        frame.appendChild(img);
        // Preload neighbors (images only)
        const next = new Image(), prev = new Image();
        const nextIt = items[(idx+1)%items.length], prevIt = items[(idx-1+items.length)%items.length];
        if (nextIt && !nextIt.isVideo) next.src = nextIt.src;
        if (prevIt && !prevIt.isVideo) prev.src = prevIt.src;
      }

      cap.innerHTML = it.caption || '';
      count.textContent = `${idx+1} / ${items.length}`;
    }

    function open(i){
      lb.classList.add('show');
      lb.setAttribute('aria-hidden','false');
      lockScroll();
      render(i);
    }
    function close(){
      lb.classList.remove('show');
      lb.setAttribute('aria-hidden','true');
      frame.innerHTML = '';
      unlockScroll();
    }

    // Capture clicks so the browser never navigates away
    document.addEventListener('click', (e) => {
      const a = e.target.closest('a.u-shot');
      if (!a || !root.contains(a)) return;
      if (e.metaKey || e.ctrlKey) return;
      e.preventDefault(); e.stopPropagation();
      const i = anchors.indexOf(a);
      open(i >= 0 ? i : 0);
    }, true);

    // Buttons + keyboard
    btnX.addEventListener('click', close);
    btnP.addEventListener('click', () => render(idx - 1));
    btnN.addEventListener('click', () => render(idx + 1));
    lb.addEventListener('click', (e) => { if (e.target === lb) close(); });
    document.addEventListener('keydown', (e) => {
      if (!lb.classList.contains('show')) return;
      if (e.key === 'Escape') close();
      if (e.key === 'ArrowLeft') render(idx - 1);
      if (e.key === 'ArrowRight') render(idx + 1);
    });

    // Simple swipe
    let sx=0, sy=0;
    lb.addEventListener('touchstart', (e) => { const t=e.touches[0]; sx=t.clientX; sy=t.clientY; }, {passive:true});
    lb.addEventListener('touchend',   (e) => {
      if (!sx && !sy) return;
      const t=e.changedTouches[0], dx=t.clientX-sx, dy=t.clientY-sy;
      if (Math.abs(dx)>Math.abs(dy) && Math.abs(dx)>30) { if (dx>0) render(idx-1); else render(idx+1); }
      sx=sy=0;
    }, {passive:true});
  });
  </script>
</body>
</html>





































